{% set product = widget.data.product %}
<!-- Product Display Widget â€“ Fixed & Clean -->
<style>
  .product-view {
    max-width: 100%;
    margin: 16px 0;
    background: #fff;
    border-radius: 14px;
    overflow: hidden;
    box-shadow: 0 6px 20px rgba(0, 0, 0, .08);
    font-family: system-ui, -apple-system, Segoe UI, Roboto;
    display: flex;
    gap: 14px;
    padding: 12px;
    align-items: stretch;
  }
  .product-image {
    width: 120px;
    min-width: 120px;
    height: 120px;
    border-radius: 12px;
    overflow: hidden;
    background: #f3f4f6;
  }
  .product-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  .product-body {
    flex: 1;
    padding: 0;
    display: flex;
    flex-direction: column;
  }
  .product-title {
    font-size: 15px;
    font-weight: 700;
    color: #111827;
    margin-bottom: 4px;
    line-height: 1.4;
  }
  .product-description {
    font-size: 13px;
    color: #6b7280;
    line-height: 1.4;
    margin-bottom: 8px;
    max-height: 38px;
    overflow: hidden;
  }
  .price-row {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
  }
  .price-current {
    font-size: 15px;
    font-weight: 700;
    color: #16a34a;
  }
  .price-compare {
    font-size: 12px;
    color: #9ca3af;
    text-decoration: line-through;
  }
  .product-meta {
    display: flex;
    gap: 8px;
    margin-top: auto;
    margin-bottom: 8px;
  }
  .meta-item {
    background: #f9fafb;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    padding: 4px 6px;
    font-size: 11px;
    color: #374151;
    white-space: nowrap;
  }
  .actions {
    display: flex;
    gap: 8px;
  }
  .btn {
    border-radius: 10px;
    padding: 8px;
    font-size: 13px;
    font-weight: 600;
    border: none;
    cursor: pointer;
    flex: 1;
  }
  .btn-primary {
    background: #111827;
    color: #fff;
  }
  .btn-secondary {
    background: #f3f4f6;
    color: #111827;
  }
</style>
<div
  class="product-view">
  <!-- IMAGE -->
  <div class="product-image">
    {% if product.images and product.images.length > 0 %}
      <img src="{{ product.images[0].fileUrl }}" alt="{{ product.title }}">
      {% else %}
        <img src="https://placehold.co/600x400?text=No+Image" alt="No image">
        {% endif %}
      </div>
      <div
        class="product-body">
        <!-- TITLE -->
        <div class="product-title">
          {{ product.title }}
        </div>
        <!-- DESCRIPTION -->
        <div class="product-description">
          {{ product.description | safe | default("Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ Ù„Ù„Ù…Ù†ØªØ¬") }}
        </div>
        <!-- PRICE -->
        <div class="price-row">
          {% if product.pricing.price > 0 %}
            <div class="price-current">
              {{ product.pricing.price }} Ø¬Ù†ÙŠÙ‡
            </div>
          {% else %}
            <div class="price-current">
              Ø§Ù„Ø³Ø¹Ø± ØºÙŠØ± Ù…ØªØ§Ø­
            </div>
          {% endif %}
          {% if product.pricing.compareAtPrice > product.pricing.price %}
            <div class="price-compare">
              {{ product.pricing.compareAtPrice }} Ø¬Ù†ÙŠÙ‡
            </div>
          {% endif %}
        </div>
        <!-- META -->
        <div class="product-meta">
          <div class="meta-item">ğŸ‘ {{ product.views }} Ù…Ø´Ø§Ù‡Ø¯Ø©</div>
          <div class="meta-item">ğŸ“¦ {{ product.quantity }} Ù…ØªÙˆÙØ±</div>
          <div class="meta-item">âš¡ {{ product.status }}</div>
        </div>
        <!-- ACTIONS -->
        <div class="actions">
          <button class="btn btn-primary">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©</button>
          <button class="btn btn-secondary">Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¢Ù†</button>
        </div>
      </div>
    </div>