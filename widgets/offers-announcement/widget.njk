<!-- Offers Announcement Bar -->
<div class="bg-gradient-to-r from-gray-900 to-black text-white overflow-hidden py-4 shadow-lg">
  <div class="container mx-auto px-4 marquee-container">
    <div class="animate-marquee" data-speed="{{ widget.data.marquee_speed | default(30) }}">
      <!-- عرض الإعلانات من الـ blocks أو المحتوى الافتراضي -->
      {% if widget.blocks and widget.blocks.length > 0 %}
        {% for block in widget.blocks %}
          <a href="{{ block.data.link | default(widget.data.announcement_link | default('#')) }}" class="inline-block">
            <span class="mx-6 text-sm lg:text-base font-bold font-['Cairo',sans-serif] tracking-wide text-white hover:text-yellow-200 transition-colors duration-300">
              {{ block.data.text }}
            </span>
          </a>
          {% if widget.data.show_separator | default(true) %}
            <span class="mx-3 text-yellow-300 text-lg">•</span>
          {% endif %}
        {% endfor %}
      {% endif %}
    </div>
  </div>
</div>

<style>
  /* Enhanced Marquee Animation */
  .animate-marquee {
    display: inline-block;
    white-space: nowrap;
    animation: marquee 30s linear infinite;
    font-weight: 700;
  }

  @keyframes marquee {
    0% {
      transform: translateX(100%);
    }
    100% {
      transform: translateX(-100%);
    }
  }

  .marquee-container {
    display: flex;
    overflow: hidden;
    width: 100%;
    position: relative;
  }

  /* Enhanced Styling */
  .animate-marquee span {
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
    transition: all 0.3s ease;
  }

  .animate-marquee span:hover {
    transform: scale(1.05);
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .animate-marquee {
      font-size: 0.8rem;
      animation-duration: 25s;
    }

    .animate-marquee span {
      margin: 0 12px !important;
    }
  }

  @media (min-width: 769px) and (max-width: 1024px) {
    .animate-marquee {
      font-size: 0.9rem;
      animation-duration: 28s;
    }

    .animate-marquee span {
      margin: 0 16px !important;
    }
  }

  @media (min-width: 1025px) {
    .animate-marquee {
      font-size: 1rem;
      animation-duration: 30s;
    }

    .animate-marquee span {
      margin: 0 20px !important;
    }
  }

  /* Hover Effects */
  .marquee-container:hover .animate-marquee {
    animation-play-state: paused;
  }

  /* Accessibility */
  @media (prefers-reduced-motion: reduce) {
    .animate-marquee {
      animation: none;
    }
  }
</style>

<script>
  // تعيين سرعة الحركة من البيانات
  document.addEventListener('DOMContentLoaded', function () {
    const marqueeElements = document.querySelectorAll('.animate-marquee[data-speed]');
    marqueeElements.forEach(function (element) {
      const speed = element.getAttribute('data-speed') || 30;
      element.style.animationDuration = speed + 's';
    });
  });
</script>